view:
  count:
    scheduling:
      delay: 3000

websocket:
  thread-pool:
    inbound:
      core-pool-size: 6
      max-pool-size: 12
      queue-capacity: 1000
    outbound:
      core-pool-size: 6
      max-pool-size: 12
  heartbeat:
    server-interval: 15000
    client-interval: 15000

oauth:
  apple:
    token-url: "https://appleid.apple.com/auth/token"
    client-secret-audience-url: "https://appleid.apple.com"
    public-key-url: "https://appleid.apple.com/auth/keys"
    client-id: ${OAUTH_APPLE_CLIENT_ID:}
    team-id: ${OAUTH_APPLE_TEAM_ID:}
    key-id: ${OAUTH_APPLE_KEY_ID:}
    secret-key: ${OAUTH_APPLE_SECRET_KEY:}
  kakao:
    token-url: "https://kauth.kakao.com/oauth/token"
    user-info_url: "https://kapi.kakao.com/v2/user/me"

sentry:
  dsn: ${SENTRY_DSN:}
  send-default-pii: true
  traces-sample-rate: 1.0
  exception-resolver-order: -2147483647

logging:
  loki:
    url: ${LOKI_URL:http://localhost:3100/loki/api/v1/push}

management:
  server:
    port: 8081

news:
  default-thumbnail-url: ${NEWS_DEFAULT_THUMBNAIL_URL:}

token:
  access:
    storage-key-prefix: "ACCESS"
    expire-time: 1h
  refresh:
    storage-key-prefix: "REFRESH"
    expire-time: 90d
  sign-up:
    storage-key-prefix: "SIGN_UP"
    expire-time: 10m
  black-list:
    storage-key-prefix: "BLACKLIST"
    expire-time: 1h

---
spring:
  config:
    activate:
      on-profile: prod

websocket:
  thread-pool:
    inbound:
      core-pool-size: 16
      max-pool-size: 32
      queue-capacity: 2000
    outbound:
      core-pool-size: 16
      max-pool-size: 32
  heartbeat:
    server-interval: 10000
    client-interval: 10000

oauth:
  apple:
    redirect-url: ${OAUTH_APPLE_REDIRECT_URL:https://www.solid-connection.com/login/apple/callback}
  kakao:
    redirect-url: ${OAUTH_KAKAO_REDIRECT_URL:https://www.solid-connection.com/login/kakao/callback}
    client-id: ${OAUTH_KAKAO_CLIENT_ID:}

jwt:
  secret: ${JWT_SECRET:}

cors:
  allowed-origins:
    - "https://www.solid-connection.com"
    - "https://api.solid-connection.com"
    - "https://admin.solid-connection.com"

sentry:
  environment: "production"

token:
  refresh:
    cookie-domain: ".solid-connection.com"

---
spring:
  config:
    activate:
      on-profile: dev

websocket:
  thread-pool:
    inbound:
      core-pool-size: 4
      max-pool-size: 8
      queue-capacity: 500
    outbound:
      core-pool-size: 4
      max-pool-size: 8
  heartbeat:
    server-interval: 15000
    client-interval: 15000

oauth:
  apple:
    redirect-url: ${OAUTH_APPLE_REDIRECT_URL:https://www.stage.solid-connection.com/login/apple/callback}
  kakao:
    redirect-url: ${OAUTH_KAKAO_REDIRECT_URL:https://www.stage.solid-connection.com/login/kakao/callback}
    client-id: ${OAUTH_KAKAO_CLIENT_ID:}

jwt:
  secret: ${JWT_SECRET:}

cors:
  allowed-origins:
    - "https://www.stage.solid-connection.com"
    - "https://api.stage.solid-connection.com"
    - "https://admin.solid-connection.com"
    - "http://localhost:3000"
    - "https://localhost:3000"
    - "http://localhost:5173"

sentry:
  environment: "dev"

token:
  refresh:
    cookie-domain: ".stage.solid-connection.com"

---
spring:
  config:
    activate:
      on-profile: local

websocket:
  thread-pool:
    inbound:
      core-pool-size: 4
      max-pool-size: 8
      queue-capacity: 500
    outbound:
      core-pool-size: 4
      max-pool-size: 8
  heartbeat:
    server-interval: 15000
    client-interval: 15000

oauth:
  apple:
    redirect-url: ${OAUTH_APPLE_REDIRECT_URL:http://localhost:8080/auth/apple}
  kakao:
    redirect-url: ${OAUTH_KAKAO_REDIRECT_URL:http://localhost:8080/auth/kakao}
    client-id: ${OAUTH_KAKAO_CLIENT_ID:}

jwt:
  secret: ${JWT_SECRET:}

cors:
  allowed-origins:
    - "http://localhost:8080"
    - "http://localhost:3000"
    - "http://localhost:5173"
    - "https://localhost:3000"

sentry:
  environment: "development"

token:
  refresh:
    cookie-domain: ".stage.solid-connection.com"
